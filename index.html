<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Artist Empowerment Platform with Digital Business Card + Agent Lee</title>
<meta name="theme-color" content="#6366f1" />
<meta name="description" content="Digital business card and Agent Lee assistant for Leonard J. Lee, Founder of RapidWebDevelop" />
<link rel="manifest" href="manifest.json" />

<style>
  /* Reset */
  * {
    box-sizing: border-box;
    margin: 0; padding: 0;
  }
  html, body {
    height: 100%;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #f0e6d2;
    background: url('1tof8i87kg.png') no-repeat center center fixed;
    background-size: cover;
    overflow: hidden;
    user-select: none;
  }
  body::before {
    content: "";
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.6);
    z-index: 0;
  }

  /* Container */
  .container {
    position: relative;
    display: flex;
    height: 100vh;
    width: 100vw;
    padding: 20px 30px;
    gap: 30px;
    z-index: 1;
  }

  /* Scrolling messages container */
  .scrolling-messages {
    flex: 1;
    max-width: 30vw;
    min-width: 280px;
    height: 90vh;
    overflow: hidden;
    position: relative;
    font-size: 1.8rem; /* Reduced size to make text more readable */
    line-height: 2.2rem;
    letter-spacing: 0.05em;
    user-select: none;
    -webkit-user-select: none;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    color: white;
    font-weight: 700;
    text-shadow:
      0 0 15px rgba(255, 255, 255, 0.9),
      0 0 30px rgba(255, 255, 255, 0.7);
  }

  /* Wrapper that contains all messages */
  .scrolling-messages .messages-wrapper {
    position: absolute;
    width: 100%;
    /* Animation is now controlled by JavaScript */
    transition: transform 1s linear;
  }

  /* Individual message styling */
  .scrolling-messages .message {
    margin: 5rem 0; /* Reduced spacing between messages */
    white-space: normal; /* Allow text to wrap */
    -webkit-user-select: none;
    user-select: none;
    filter: drop-shadow(0 0 6px rgba(0,0,0,0.8));
    opacity: 0; /* Start invisible */
    transform: translateY(50px); /* Start below */
    transition: opacity 1s ease, transform 1s ease;
    max-width: 100%; /* Ensure text doesn't overflow */
    padding: 0 5px; /* Add some padding */
  }

  /* Visible message state */
  .scrolling-messages .message.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Gold messages with stronger glow */
  .scrolling-messages .message.gold {
    color: #ffd700;
    text-shadow:
      0 0 15px #ffd700,
      0 0 30px #ffd700,
      0 0 45px #ffcc00,
      0 0 60px #ffcc00,
      0 0 75px #ffcc00;
    filter: drop-shadow(0 0 10px #ffcc00);
  }

  /* Flip card */
  .flip-container {
    flex: 1 1 auto;
    max-width: 85vw; /* Increased from 65vw to 85vw */
    width: 100%;
    height: calc(85vw / 1.75); /* Adjusted height to maintain aspect ratio */
    perspective: 1200px;
    outline: none;
    -webkit-user-select: none;
    user-select: none;
    position: relative;
    margin: 0 auto; /* Center the card */
  }

  .flip-card {
    width: 100%;
    height: 100%;
    position: relative;
    transition: transform 0.8s cubic-bezier(.4,0,.2,1);
    transform-style: preserve-3d;
    cursor: pointer;
  }

  /* Flip on hover/focus */
  .flip-container:hover .flip-card,
  .flip-container:focus-within .flip-card {
    transform: rotateY(180deg);
  }

  .flip-side {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    -webkit-user-select: none;
    user-select: none;
  }
  .flip-side.front {
    overflow: visible;
    border-radius: 0;
  }
  .flip-side.front img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    user-select:none;
    display: block;
  }

  .flip-side.back {
    background: #1e293b;
    color: #cbd5e1;
    transform: rotateY(180deg);
    display: flex;
    flex-direction: column;
    padding: 24px 28px;
    border-radius: 20px;
  }

  /* Agent Lee styles */
  .agent-header {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 20px;
    user-select:none;
  }
  .agent-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    border: 3px solid #6366f1;
    box-shadow: 0 0 20px #6366f1;
    object-fit: cover;
  }
  .agent-name {
    font-size: 2.2rem;
    font-weight: 700;
    background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #d946ef 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    user-select:none;
  }
  .agent-role {
    color: #94a3b8;
    font-size: 1.1rem;
    margin-top: -6px;
  }

  .agent-chat-output {
    flex-grow: 1;
    background: #334155;
    border-radius: 14px;
    padding: 18px;
    font-size: 1rem;
    overflow-y: auto;
    max-height: 120px;
    margin-bottom: 16px;
    color: #e0e7ff;
  }
  .agent-chat-output p {
    margin-bottom: 12px;
    user-select:none;
  }

  .agent-questions {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 14px;
    margin-bottom: 20px;
  }
  .agent-questions button {
    background: #334155;
    border: none;
    padding: 12px 16px;
    border-radius: 16px;
    color: #cbd5e1;
    font-weight: 600;
    cursor: pointer;
    user-select:none;
    transition: background-color 0.3s ease;
    font-size: 1rem;
  }
  .agent-questions button:hover,
  .agent-questions button:focus {
    background: #6366f1;
    outline: none;
  }

  .agent-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 14px;
    justify-content: center;
    user-select:none;
  }
  .agent-controls button, .agent-controls a {
    background: #475569;
    border: none;
    padding: 12px 18px;
    border-radius: 16px;
    color: #cbd5e1;
    font-weight: 600;
    cursor: pointer;
    user-select:none;
    flex: 1 1 140px;
    font-size: 1rem;
    text-align: center;
    text-decoration: none;
    transition: background-color 0.3s ease;
  }
  .agent-controls button:hover,
  .agent-controls button:focus,
  .agent-controls a:hover,
  .agent-controls a:focus {
    background: #2563eb;
    outline: none;
  }

  #qrCode {
    margin-top: 16px;
    align-self: center;
    width: 150px;
    height: 150px;
  }

  /* Responsive */
  @media (max-width: 900px) {
    .container {
      flex-direction: column;
      padding: 15px;
      gap: 15px;
    }
    .scrolling-messages {
      max-width: 100%;
      min-width: auto;
      height: 150px; /* Increased height for better visibility */
      font-size: 1.2rem; /* Smaller font size to fit more text */
      line-height: 1.5rem;
      order: 2;
    }
    .scrolling-messages .message {
      margin: 3rem 0; /* Reduced spacing for mobile */
      padding: 0 10px;
    }
    .flip-container {
      max-width: 95%;
      width: 95%; /* Almost full width */
      height: auto; /* Auto height */
      min-height: 250px; /* Increased minimum height */
      order: 1;
      margin: 0 auto; /* Center the card */
    }
    .flip-side.front img {
      width: 100%;
      height: auto;
      min-height: 250px; /* Ensure minimum height */
      max-height: 80vh; /* Increased maximum height */
      object-fit: contain;
    }
    .flip-side.back {
      padding: 15px;
      height: auto;
      min-height: 300px;
    }
  }
</style>
</head>
<body>

<div class="container" role="main" aria-label="Artist Empowerment Platform">
  <!-- Left: Scrolling inspirational messages -->
  <div class="scrolling-messages" aria-live="polite" aria-atomic="true" aria-label="Inspirational messages for artists">
  </div>

  <!-- Right: Flip card -->
  <div tabindex="0" class="flip-container" aria-pressed="false" role="button" aria-label="Flip business card to Agent Lee assistant">
    <div class="flip-card" id="flipCard">

      <!-- Front side: business card image -->
      <div class="flip-side front" aria-hidden="false">
        <img src="digitalcard2.png" alt="Digital Business Card Front" />
      </div>

      <!-- Back side: Agent Lee AI assistant -->
      <div class="flip-side back" aria-hidden="true" role="region" aria-label="Agent Lee assistant card">

        <div class="agent-header">
          <img src="resourseagent.png" alt="Agent Lee Avatar" class="agent-avatar" />
          <div>
            <h1 class="agent-name">Agent Lee</h1>
            <p class="agent-role">Your AI Guide</p>
          </div>
        </div>

        <div class="agent-chat-output" id="agentChat" aria-live="polite" aria-atomic="false">
          <p>Click a question to hear Agent Lee speak.</p>
        </div>

        <div class="agent-questions" role="list" aria-label="Agent Lee questions">
          <button role="listitem" type="button" data-question="who is leonard j. lee?">Who is Leonard J. Lee?</button>
          <button role="listitem" type="button" data-question="why did leonard create rapid web development?">Why did Leonard create Rapid Web Development?</button>
          <button role="listitem" type="button" data-question="what makes leonard different?">What makes Leonard different?</button>
          <button role="listitem" type="button" data-question="what is rapid web development?">What is Rapid Web Development?</button>
          <button role="listitem" type="button" data-question="what is the leeway movement?">What is the LEEWAY movement?</button>
          <button role="listitem" type="button" data-question="why is artist empowerment important?">Why is artist empowerment important?</button>
          <button role="listitem" type="button" data-question="how is this different from shopify?">How is this different from Shopify?</button>
          <button role="listitem" type="button" data-question="what happens when i join rapid web development?">What happens when I join Rapid Web Development?</button>
        </div>

        <div class="agent-controls" role="region" aria-label="Agent Lee controls">
          <button type="button" id="listenBtn" aria-label="Listen to Agent Lee">🎤 Listen</button>
          <button type="button" id="stopBtn" aria-label="Stop Agent Lee Speech" disabled>⏹️ Stop</button>
          <button type="button" id="finishBtn" aria-label="Finish Interaction">✅ Finish</button>
          <a href="#" id="saveBtn" download="AgentLee.vcf" class="button" aria-label="Save Contact">💾 Save Contact</a>
          <button type="button" id="emailBtn" aria-label="Send Email to Agent Lee">📧 Email</button>
          <button type="button" id="phoneBtn" aria-label="Call Agent Lee">📱 Phone</button>
          <button type="button" id="textBtn" aria-label="Text Agent Lee">💬 Text</button>
        </div>

        <div id="qrCode" aria-label="QR code linking to Leonard's website or contact"></div>

      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcode-generator/qrcode.min.js"></script>

<script>
  // Scrolling messages data
  const messages = [
    { text: "🎵 Believe in your art — it has power beyond measure.", gold: false },
    { text: "🌟 Your creativity is a gift to the world. Share it boldly.", gold: true },
    { text: "🔥 Music saves lives. You are a lifesaver.", gold: false },
    { text: "🚀 Join the platform now and take control of your future.", gold: true },
    { text: "⚠️ Don’t sign 360 contracts. They’re traps, not opportunities.", gold: false },
    { text: "📞 Call Lee now to get set up and empowered.", gold: true },
    { text: "💡 Your art deserves freedom and full ownership.", gold: false },
    { text: "🔑 You’re not just joining a platform. You’re joining a revolution.", gold: true }
  ];

  const container = document.querySelector('.scrolling-messages');
  const wrapper = document.createElement('div');
  wrapper.className = 'messages-wrapper';

  // Create message elements
  messages.forEach(({text, gold}) => {
    const msgDiv = document.createElement('div');
    msgDiv.className = 'message' + (gold ? ' gold' : '');
    msgDiv.textContent = text;
    wrapper.appendChild(msgDiv);
  });

  container.appendChild(wrapper);

  // Get all message elements
  const messageElements = wrapper.querySelectorAll('.message');
  let currentMessageIndex = 0;
  let scrollPosition = 0;
  let restartTimer = null;

  // Function to show the next message
  function showNextMessage() {
    // Reset if we've shown all messages
    if (currentMessageIndex >= messageElements.length) {
      // Hide all messages
      messageElements.forEach(msg => {
        msg.classList.remove('visible');
      });

      // Reset position
      wrapper.style.transform = 'translateY(0)';
      scrollPosition = 0;
      currentMessageIndex = 0;

      // Wait 2 seconds before starting again
      clearTimeout(restartTimer);
      restartTimer = setTimeout(showNextMessage, 2000);
      return;
    }

    // Show current message
    const currentMsg = messageElements[currentMessageIndex];
    currentMsg.classList.add('visible');

    // Move wrapper up to keep message in view
    if (currentMessageIndex > 0) {
      // Use different scroll amounts for mobile vs desktop
      const isMobile = window.innerWidth <= 900;
      const scrollAmount = isMobile ? 80 : 120; // Less scroll on mobile

      scrollPosition -= scrollAmount;
      wrapper.style.transform = `translateY(${scrollPosition}px)`;
    }

    // Increment counter
    currentMessageIndex++;

    // Schedule next message - longer time for reading on mobile
    const isMobile = window.innerWidth <= 900;
    const displayTime = isMobile ? 4000 : 3000; // Longer on mobile
    setTimeout(showNextMessage, displayTime);
  }

  // Start the animation
  setTimeout(showNextMessage, 1000);

  // Agent Lee answers
  const answers = {
    "who is leonard j. lee?": "Ah, now that's a story worth telling. Leonard J. Lee is more than a founder — he’s what I call a vibe coder. He created me and this platform to help artists stop waiting for permission and start building their future.",
    "why did leonard create rapid web development?": "Because he saw too many gifted artists getting locked out of the industry they power. Leonard wanted to build a weapon of mass ownership disguised as a website.",
    "what makes leonard different?": "Most devs write scripts. Leonard writes scriptures. He listens to artists before writing a single line. Everything he builds speaks with you, not at you.",
    "what is rapid web development?": "It’s about speed, freedom, and full ownership. Launch a platform in a day — merch, music, video, fan messaging, NFTs — all in one file, no middlemen.",
    "what is the leeway movement?": "LEEWAY is not a tool; it’s a territory, a belief system wrapped in code. Full control over your art, merch, message, and mission.",
    "why is artist empowerment important?": "Because the industry is still rigged with 360 deals, low streaming payouts, contract traps. Artist empowerment means taking your future back.",
    "how is this different from shopify?": "Those are boxes. We are blueprints. Templates with purpose, embedding AI, merch, music players, voice control, email marketing, and community tools.",
    "what happens when i join rapid web development?": "You get a site, but more than that: a system, community, cause, and me—Agent Lee—guiding you every step. You take keys to your own kingdom."
  };

  const chatOutput = document.getElementById('agentChat');
  const buttons = document.querySelectorAll('.agent-questions button');
  const listenBtn = document.getElementById('listenBtn');
  const stopBtn = document.getElementById('stopBtn');
  const finishBtn = document.getElementById('finishBtn');
  const saveBtn = document.getElementById('saveBtn');
  const emailBtn = document.getElementById('emailBtn');
  const phoneBtn = document.getElementById('phoneBtn');
  const textBtn = document.getElementById('textBtn');

  function speak(text) {
    if (!window.speechSynthesis) return;
    window.speechSynthesis.cancel();
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = 'en-US';
    window.speechSynthesis.speak(utterance);
  }

  function addMessage(text) {
    chatOutput.innerHTML = `<p>${text}</p>`;
  }

  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      const q = btn.getAttribute('data-question').toLowerCase();
      const answer = answers[q] || "Sorry, I don't have an answer for that.";
      addMessage(answer);
      speak(answer);
    });
  });

  listenBtn.onclick = () => {
    speak("Hello! I am Agent Lee. Ask me a question by clicking a button.");
    addMessage("Hello! I am Agent Lee. Ask me a question by clicking a button.");
  };
  stopBtn.onclick = () => {
    window.speechSynthesis.cancel();
  };
  finishBtn.onclick = () => {
    speak("Okay, I'm here when you need me.");
    addMessage("Okay, I'm here when you need me.");
  };
  saveBtn.onclick = () => {
    const vcard = [
      'BEGIN:VCARD', 'VERSION:3.0',
      'FN:Leonard J. Lee', 'ORG:RapidWebDevelop', 'TITLE:Artist Empowerment Platform',
      'TEL;WORK;VOICE:414-626-9992', 'EMAIL;WORK:agentlee@rapidwebdevelop.com',
      'ADR;WORK:;;Milwaukee, WI 53206', 'URL:https://rapidwebdevelop.com', 'END:VCARD'
    ].join('\n');
    const blob = new Blob([vcard], {type: 'text/vcard'});
    const url = URL.createObjectURL(blob);
    saveBtn.href = url;
    // Do NOT revoke URL immediately because user may still download it
  };
  emailBtn.onclick = () => {
    window.location.href = 'mailto:agentlee@rapidwebdevelop.com';
  };
  phoneBtn.onclick = () => {
    window.location.href = 'tel:4146269992';
  };
  textBtn.onclick = () => {
    window.location.href = 'sms:4146269992';
  };

  // QR Code generation
  const qr = qrcode(0, 'M');
  const profileURL = 'https://rapidwebdevelop.com';
  qr.addData(profileURL);
  qr.make();
  document.getElementById('qrCode').innerHTML = qr.createSvgTag();

  // PWA install prompt handler
  let deferredPrompt;
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    // Show custom install UI here if needed
  });

  // Nearby Share & Bluetooth (Android) support
  const nearbyBtn = document.createElement('button');
  nearbyBtn.textContent = '📡 Nearby Share';
  nearbyBtn.style.cssText = `
    background:#475569; border:none; padding:12px 18px; border-radius:16px; color:#cbd5e1;
    font-weight:600; cursor:pointer; flex: 1 1 140px; font-size: 1rem; text-align:center; transition:background-color 0.3s ease; margin-top:8px;
  `;
  nearbyBtn.onmouseenter = () => nearbyBtn.style.background = '#2563eb';
  nearbyBtn.onmouseleave = () => nearbyBtn.style.background = '#475569';
  document.querySelector('.agent-controls').appendChild(nearbyBtn);

  nearbyBtn.onclick = async () => {
    if (!('canShare' in navigator)) {
      alert('Nearby Share is not supported on this browser.');
      return;
    }
    try {
      const vcardBlob = new Blob([[
        'BEGIN:VCARD', 'VERSION:3.0',
        'FN:Leonard J. Lee', 'ORG:RapidWebDevelop', 'TITLE:Artist Empowerment Platform',
        'TEL;WORK;VOICE:414-626-9992', 'EMAIL;WORK:agentlee@rapidwebdevelop.com',
        'ADR;WORK:;;Milwaukee, WI 53206', 'URL:https://rapidwebdevelop.com', 'END:VCARD'
      ].join('\n')], { type: 'text/vcard' });
      const file = new File([vcardBlob], 'AgentLee.vcf', { type: 'text/vcard' });
      await navigator.share({
        title: 'Contact: Leonard J. Lee',
        text: 'Here is my digital business card!',
        files: [file]
      });
    } catch (e) {
      alert('Sharing failed or cancelled: ' + e);
    }
  };

  // NFC text/URI payload generator for writing to tags
  const nfcBtn = document.createElement('button');
  nfcBtn.textContent = '📳 Generate NFC Payload';
  nfcBtn.style.cssText = `
    background:#475569; border:none; padding:12px 18px; border-radius:16px; color:#cbd5e1;
    font-weight:600; cursor:pointer; flex: 1 1 140px; font-size: 1rem; text-align:center; transition:background-color 0.3s ease; margin-top:8px;
  `;
  nfcBtn.onmouseenter = () => nfcBtn.style.background = '#2563eb';
  nfcBtn.onmouseleave = () => nfcBtn.style.background = '#475569';
  document.querySelector('.agent-controls').appendChild(nfcBtn);

  nfcBtn.onclick = () => {
    const payloadText = profileURL;
    navigator.clipboard.writeText(payloadText).then(() => {
      alert('NFC payload URL copied to clipboard. Paste it into your NFC writing app.');
    }).catch(() => {
      alert('Failed to copy NFC payload URL.');
    });
  };

  // Register service worker for offline PWA
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js').then(() => {
      console.log('Service Worker Registered');
    });
  }
</script>

</body>
</html>
